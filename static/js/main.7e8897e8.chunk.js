(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},123:function(e,t,a){},126:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(100),a(29)),l=a(17),s=a(32),u=a(30),h=a(31),m=(a(101),a(37)),d=a(40),g=(a(102),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tags;return r.a.createElement(r.a.Fragment,null,e.map(function(e){return r.a.createElement("div",{className:"tagCards",key:e},r.a.createElement(m.b,{to:"/tags/".concat(e)},e))}))}}]),t}(n.Component)),p=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error404"))}}]),t}(n.Component),f=a(81),b=a.n(f),E=a(176),y=a(80),j=a.n(y),O=a(172),v=a(180),C=a(170),k=a(130),w=a(26),S=a.n(w),T=a(78),N=a(52),I=(a(123),a(178));var x=function(e){var t=e.open,a=e.message,n=e.handleClose;return r.a.createElement("div",null,r.a.createElement(I.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,onClose:n,message:a,autoHideDuration:2e3}))},A=a(79),D=a.n(A),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchContent=function(){var e=[],t=[],n={},r=[];a.state.shayariObject[a.props.tag].titleArray.length||S.a.firestore().collection("tags").doc(a.props.tag).collection("shayaris").orderBy("timestamp","desc").get().then(function(c){var o=0;c.forEach(function(a){var c=a.data().title,i=a.data().content;r=a.data().tags,e.push(c),t.push(i),Object.assign(n,Object(N.a)({},o,r)),o++}),a.setState(function(r){return{shayariObject:Object.assign({},r.shayariObject,Object(N.a)({},a.props.tag,Object(T.a)({},r.shayariObject[a.props.tag],{titleArray:e,contentArray:t,relatedTagsObject:n})))}},function(){a.props.putIntoShayariObject(a.state.shayariObject)})})},a.handleContentClick=function(e,t){e.target.innerHTML=t},a.handleSnackbarClose=function(){a.setState({snackbar:!1})},a.handleCopy=function(){a.setState({snackbar:!0})},a.state={shayariObject:Object.assign({},e.shayariObject),snackbar:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.tag,a=this.state.shayariObject,n=a[t].titleArray,c=a[t].contentArray,o=a[t].relatedTagsObject;return r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("hr",null),a[t].titleArray.length?n.map(function(t,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement("div",{className:"shayariCard div".concat(a)},r.a.createElement("div",{className:"shayariCardHeader div".concat(a)},r.a.createElement(D.a,{"data-clipboard-text":c[a],onClick:e.handleCopy},"copy")),r.a.createElement("div",{className:"div".concat(a)},t),r.a.createElement("div",{className:"div".concat(a),onClick:function(t){return e.handleContentClick(t,c[a])}},c[a].length>100?c[a].substring(0,100)+"....":c[a]),r.a.createElement("div",null,o[a].map(function(e,t){return r.a.createElement(r.a.Fragment,{key:e},r.a.createElement(m.b,{to:"./".concat(e)},e),"\u2002")}))),r.a.createElement("hr",null))}):this.fetchContent(),r.a.createElement(x,{open:this.state.snackbar,message:"copied.",handleClose:this.handleSnackbarClose}))}}]),t}(n.Component),F=a(171),M=a(167),V=a(173),z=a(179),H=a(168),L=a(175),U=a(181),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleTagChange=function(e){a.setState(function(t){return{tags:e.target.value}})},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleContentChange=function(e){a.setState({content:e.target.value})},a.upload=function(){var e=a.state.tags,t=a.state.title,n=a.state.content;if(e)if(t)if(n){var r=!1,c=!1;a.state.tags.forEach(function(e,o){S.a.firestore().collection("tags").doc(e).update({totalShayaris:S.a.firestore.FieldValue.increment(1)}).then(function(){r=!0}).catch(function(e){r=!1}),S.a.firestore().collection("tags").doc(e).collection("shayaris").doc().set({title:t,content:n,timestamp:S.a.firestore.FieldValue.serverTimestamp(),tags:a.state.tags}).then(function(){c=!0,o===a.state.tags.length-1&&c&&r&&(a.setState({title:"",content:"",tags:[]}),alert("uploaded"))}).catch(function(e){c=!1,alert("cannot upload due to some error."+e.message)})})}else alert("error");else alert("error");else alert("error")},a.state={title:"",content:"",tags:[]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(M.a,null,r.a.createElement(z.a,{htmlFor:"select-multiple-chip"},"Tag"),r.a.createElement(V.a,{multiple:!0,value:this.state.tags,onChange:function(t){return e.handleTagChange(t)},input:r.a.createElement(H.a,{id:"select-multiple-checkbox"}),renderValue:function(e){return e.join(", ")}},this.props.tags.map(function(t){return r.a.createElement(F.a,{key:t,value:t},r.a.createElement(L.a,{checked:e.state.tags.indexOf(t)>-1}),r.a.createElement(v.a,{primary:t}))})),r.a.createElement(U.a,{id:"standard-textarea",label:"Title",placeholder:"Choose title wisely",margin:"normal",value:this.state.title,onChange:function(t){return e.handleTitleChange(t)}}),r.a.createElement(U.a,{id:"standard-textarea",label:"Content",placeholder:"Write beyond imagination",multiline:!0,margin:"normal",value:this.state.content,onChange:function(t){return e.handleContentChange(t)}}),r.a.createElement("button",{type:"submit",onClick:this.upload},"Upload")))}}]),t}(n.Component),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).putIntoShayariObject=function(t){e.setState(function(e){return{shayariObject:Object.assign(e.shayariObject,t)}})},e.toggleDrawer=function(){e.setState({drawer:!e.state.drawer})},e.state={tags:[],drawer:!1,loading:!0,shayariObject:{}},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a={},n=0;S.a.firestore().collection("tags").get().then(function(r){r.forEach(function(e){var r=e.id;n=e.data().totalShayaris,t.push(r),a[r]={titleArray:[],contentArray:[]}}),t.forEach(function(e){a[e].relatedTagsObject={};for(var t=0;t<n;t++)a[e].relatedTagsObject[t]=[]}),e.setState(function(e){return{tags:t,loading:!1,shayariObject:Object.assign({},e.shayariObject,a)}})}).catch(function(e){alert(e.message)})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("h1",null,"loading"):r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement("div",{className:"header"},r.a.createElement(b.a,{fontSize:"large",onClick:this.toggleDrawer,className:"headerMenuIcon"}),r.a.createElement("span",{className:"headerName"},r.a.createElement(m.b,{to:"/",className:"link"},"\ud835\udceb\ud835\udcee\ud835\udcfc\ud835\udcfd\ud835\udcfc\ud835\udcf1\ud835\udcea\ud835\udd02\ud835\udcea\ud835\udcfb\ud835\udcf2\ud835\udcfc.\ud835\udcec\ud835\udcf8\ud835\udcf6"))),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(g,{tags:e.state.tags})}}),r.a.createElement(d.a,{path:"/tags/:tag",render:function(t){return r.a.createElement(B,{tag:t.match.params.tag,shayariObject:e.state.shayariObject,putIntoShayariObject:e.putIntoShayariObject})}}),r.a.createElement(d.a,{exact:!0,path:"/upload",render:function(t){return r.a.createElement(W,{tags:e.state.tags})}}),r.a.createElement(d.a,{path:"*",component:p})),r.a.createElement(E.a,{anchor:"left",open:this.state.drawer,onClose:this.toggleDrawer},r.a.createElement("div",{role:"presentation",onClick:function(){return e.toggleDrawer()},onKeyDown:function(){return e.toggleDrawer()}},r.a.createElement(C.a,null,r.a.createElement(k.a,{button:!0},r.a.createElement(O.a,null,r.a.createElement(j.a,null)," "),r.a.createElement(v.a,null,r.a.createElement(m.b,{to:"/",className:"drawerTextLink"},"Home"))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));S.a.initializeApp({apiKey:"AIzaSyCEMfOB5_j1hIdpxVXOduBuUMTwj5txVZo",authDomain:"bestshayari-7f672.firebaseapp.com",databaseURL:"https://bestshayari-7f672.firebaseio.com",projectId:"bestshayari-7f672",storageBucket:"bestshayari-7f672.appspot.com",messagingSenderId:"1001640034721",appId:"1:1001640034721:web:251a9065628579fe518be0",measurementId:"G-EQP9800NT3"}),S.a.analytics(),o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){e.exports=a(126)}},[[95,1,2]]]);
//# sourceMappingURL=main.7e8897e8.chunk.js.map